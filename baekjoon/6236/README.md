# [백준 6236 - 용돈 관리](https://www.acmicpc.net/problem/6236)

- [문제분석](#문제분석)
    * [요구사항](#요구사항)
    * [조건](#조건)
    * [제한사항](#제한사항)
- [접근방법](#접근방법)
- [의사코드](#의사코드)
- [코드분석](#코드분석)
    * [시간복잡도](#시간복잡도)
    * [공간복잡도](#공간복잡도)
        * [메모리 초과](#메모리-초과)
    * [리펙토링](#리펙토링)
        * [리펙토링 코드](#리펙토링-코드)

## 문제분석

### 요구사항

⭐️ 인출 금액 `K`의 최소값

### 조건

* 통장에서 `K`원을 인출한다.
* 통장에서 뺀 돈으로 하루를 보낼 수 있으면 그대로 사용하고,  
  모자라게 되면 남은 금액은 통장에 집어넣고 다시 `K`원을 인출한다.
* 정확히 `M`번을 맞추기 위해서 남은 금액이 그날 사용할 금액보다 많더라도   
  남은 금액은 통장에 집어넣고 다시 `K`원을 인출할 수 있다.

> ‼️ `하루에 한 번`만 인출할 수 있다.

### 제한사항

* 계획한 날짜 `N` : `1 ≤ N ≤ 100,000`
* 인출 횟수 `M` : `1 ≤ M ≤ N`
* `i`번째 날에 사용할 `금액` : `1 ≤ 금액 ≤ 10000`
* 인출 금액 `K`

* 시간 제한 : 1초
* 메모리 제한 : 128MB

## 접근방법

* 통장에서 인출해야 할 최소 금액 `K`를 이분탐색하여 찾는다.
* `K`에 대한 유효성은 인출한 금액으로 i번째 날에 사용할 금액을 비교하여 검사한다.
* `left~right` 범위는 `i`번째 날에 사용할 `금액`의 최솟값(`left`)과 최댓값(`right`)으로 설정하여 `시간복잡도`를 줄인다.

## 의사코드

```c++
bool is_valid() {
	for (int i = 0; i < N; ++i) {
		if (i번째 날에 사용할 금액이 모자라면)
			남은 금액을 집어넣고 다시 K원을 인출한다; 
		인출한 K원에서 i번째 금액을 사용한다;
		if (금액이 부족하거나 || 인출 횟수가 M보다 크다면)
			return (false);
	}
	return (true);
}

int main() {
    left = i번째 날에 사용할 금액의 최솟값;
    right = i번째 날에 사용할 금액의 최댓값 * N;
	
	while (left < right) {
		int mid = (right + left) / 2;
		if (경계값을 만나면) {
			if (left가 유효하면)
				left 출력;
			else if (left가 유효하지 않으면)
				right 출력;
			반복문 종료;
		}
		if (is_valid(mid))
			right = mid;
		else
			left = mid;
	}
	return (0);
}
```

## 코드분석

### 시간복잡도

* 입력 : 계획하는 날짜 `N`, 사용할 금액 `K`,
* 연산 : 유효성 검사 비교연산 `N`
* 시간복잡도 :
    * 유효성 검사는 모든 날짜를 탐색해야하므로 O(N)이고,
    * 매개변수 탐색은 이분탐색으로 진행하므로 O(log(K*N))이므로
    * 시간복잡도는 O(Nlog(K*N))이 된다.
    * 최악의 경우 `N = 100000, K=10000` 이므로  
      `100000 * log(1000000000) = 900000`이 된다.

* `1`초에 대한 연산을 `약 1억`번이라고 가정했을 때  
  <U>**시간 제한을 만족**</U>한다고 볼 수 있다.
