# 교점에 별 만들기 - Level2

### 문제 : [바로가기](https://school.programmers.co.kr/learn/courses/30/lessons/87377)

### 제한사항 : 
* line의 세로(행) 길이는 2 이상 1,000 이하인 자연수입니다.
  * line의 가로(열) 길이는 3입니다.
  * line의 각 원소는 [A, B, C] 형태입니다.
  * A, B, C는 -100,000 이상 100,000 이하인 정수입니다.
  * 무수히 많은 교점이 생기는 직선 쌍은 주어지지 않습니다.
  * A = 0이면서 B = 0인 경우는 주어지지 않습니다.
* 정답은 1,000 * 1,000 크기 이내에서 표현됩니다.
* 별이 한 개 이상 그려지는 입력만 주어집니다.


## 1. 매개변수를 위해 `int[]`가 아닌 클래스를 선언하는 이유  

주어진 입력의 자료형이 int[]여서 코드를 작성하는데
모든 매개변수와 반환값 또한 int[]로 작성했다.

그런데 나중에 코드를 다시 읽어보니 문제점이라고 생각되는 부분이 두 가지 있었다.
1. `ArrayIndexOutOfBoundsException`
2. 의미가 불명확

첫째로 배열을 매개변수로 받으니 변수명이 점점 애매해지면서 나중에는
해당 배열이 무엇을 의미하는지 직관적이지 않은 경우가 발생한다.
따라서 매번 `ArrayIndexOutOfBoundsException`를 체크해줘야한다는 것이
귀찮았다.

두번쨰는 변수의 의미를 파악하는 것이 어렵다는 것이다.
교재에서 두 직선의 교점을 구하는 공식은 다음과 같다.

```java
double x = (b * f - e * d) / (a * d - b * c);
double y = (e * c - a * f) / (a * d - b * c);
```

각 매개변수를 동일한 알파벳 순서로 받는다면 문제되지 않지만,
아래와 같이 정수형배열로 받는다면 두 수식을 비교하는데 어려움이 생긴다.

```java
double i = (x[1] * y[2] - x[2] * y[1]) / (x[0] * y[1] - x[1] * y[0]);
double j = (x[2] * y[1] - x[0] * y[2]) / (x[0] * y[1] - x[1] * y[0]);
```

따라서 정수형 배열로 작성한 매개변수를 `Point` 클래스로 바꾸거나,
읽는데 유용한 알파벳순서로 풀어서 전달했다.

## 2. 2차원 배열 좌표와 일반 좌표

여기서 2차원 배열은 교점을 표현할 수 있는 가장 작은 크기의 배열이기때문에
병르 표시하기 위해서는 좌표를 변환시켜야한다.

배열의 크기는 가장 큰 `(x, y)`좌표에서 가장 작은 `(x, y)`좌표를 뺀 것이기 때문에
`x`좌표는 `point.x - minPoint.x`를 하면된다.
하지만 2차원 배열에서 `y`좌표는 일반좌표와 반대 방향이다.
따라서 `y`좌표는 `x`좌표와 반대로 `maxPoint.y - point.y`를 해야한다.

```java
int movedX = (int)(point.x-minPoint.x);
int movedY = (int)(maxPoint.y-point.y);
```

## 3. 자료형 `int`와 `long` 선택기준

마지막 29번 테스트 케이스에서 지속적으로 통과하지 못했다.

여러가지 방법을 찾아보다가 `Point` 클래스 필드 자료형 `int` to `long`으로 수정하고,
`getIntersectionPoint`의 매개변수를 모두 `long`으로 수정하니 성공했다.

매개변수로 주어지는 `line`의 원소들은 `-100,000 < x < 100,000` 인 정수이다.
각 매개변수가 100,000이라는 가정하에 `a * d`의 최대값은 `10^10`이다.

```java
double x = (double) (b * f - e * d) / (a * d - b * c);
double y = (double) (e * c - a * f) / (a * d - b * c);
```

```java
a * d = 10^5 * 10^5 = 10^10
```

따라서 `line`의 제한범위는 `int`형의 최대 범위인 2,147,483,647, 
즉 `2.147483647*10^9`보다 크기때문에 `int`형이 아닌
`long`형을 사용해야한다.참고로 `long`형의 최대범위는 9,223,372,036,854,775,807
즉, `9.223372036854775807*10^18` 이다.